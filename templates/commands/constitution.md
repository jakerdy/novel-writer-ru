---
description: Создание или обновление конституции написания романа, определяющей бескомпромиссные принципы творчества
argument-hint: [описание творческих принципов]
allowed-tools: Write(//memory/constitution.md), Write(memory/constitution.md), Read(//memory/**), Read(memory/**), Bash(find:*), Bash(*)
model: claude-sonnet-4-5-20250929
scripts:
  sh: .specify/scripts/bash/constitution.sh
  ps: .specify/scripts/powershell/constitution.ps1
---

Пользовательский ввод: $ARGUMENTS

## Цель

Создать основополагающие принципы и ценности для написания романов, сформировав документ «Конституция творчества». Эти принципы будут направлять все последующие творческие решения.

## Шаги выполнения

### 1. Проверка существующих документов

**Сначала проверьте наличие документа со стилистическими ориентирами** (из `/book-internalize`):
```bash
test -f .specify/memory/style-reference.md && echo "exists" || echo "not-found"
```

- Если он существует, используйте инструмент Read для чтения `.specify/memory/style-reference.md`.
- Затем сообщите пользователю: «Обнаружено, что вы завершили анализ сравнительных работ. Я буду использовать этот стиль для составления конституции».

**Затем проверьте существующую конституцию**:
```bash
test -f .specify/memory/constitution.md && echo "exists" || echo "not-found"
```

- Если она существует (вывод «exists»), используйте инструмент Read для чтения `.specify/memory/constitution.md` и подготовьтесь к обновлению.
- Если она не существует (вывод «not-found»), пропустите шаг чтения и подготовьтесь к созданию новой конституции.

### 2. Сбор принципов творчества

На основе ввода пользователя соберите принципы по следующим аспектам (если они не предоставлены, запросите или выведите предположение):

#### Основные ценности
- Какие основные идеи должен донести произведение?
- Каковы абсолютные недопустимые границы?
- Какова фундаментальная цель творчества?

#### Стандарты качества
- Требования к логической последовательности
- Стандарты качества текста
- Обязательства по частоте обновлений
- Гарантия завершенности

#### Принципы творческого стиля
- Стиль повествования (лаконичный/пышный/простой/поэтичный)
- Контроль темпа (быстрый/медленный/сбалансированный)
- Эмоциональный тон (захватывающий/глубокий/легкий/серьезный)
- Языковые особенности (древний/современный/разговорный/книжный)

#### Принципы содержания
- Принципы построения персонажей
  - У каждого персонажа должна быть полная мотивация
  - Рост персонажа должен быть логичным
  - Диалоги должны соответствовать личности персонажа
- Принципы построения сюжета
  - Принципы создания конфликтов
  - Обоснованность поворотов сюжета
  - Принцип отслеживания и использования зацепок
- Принципы мироустройства
  - Требования к внутренней согласованности сеттинга
  - Стандарты достоверности деталей
  - Требования к культурным исследованиям

#### Принципы ориентации на читателя
- Определение целевой аудитории
- Гарантия читательского опыта
- Принципы интерактивной обратной связи

#### Дисциплина творчества
- Правила повседневного письма
- Процесс редактирования и доработки
- Принципы управления версиями

### 3. Составление документа конституции

Используйте следующую структуру шаблона:

```markdown
# Конституция творчества романа

## Метаданные
- Версия: [Номер версии, например 1.0.0]
- Дата создания: [ГГГГ-ММ-ДД]
- Последнее изменение: [ГГГГ-ММ-ДД]
- Автор: [Имя автора]
- Произведение: [Название произведения или "Общее"]

## Предисловие
[Объясните, почему эта конституция необходима и какова ее обязательная сила]

## Глава 1: Основные ценности

### Принцип 1: [Название принципа]
**Заявление**: [Четкая формулировка принципа]
**Обоснование**: [Почему этот принцип важен]
**Исполнение**: [Как он будет отражен в творчестве]

### Принцип 2: [Название принципа]
[Тот же формат]

## Глава 2: Стандарты качества

### Стандарт 1: Логическая последовательность
**Требования**: [Конкретные требования]
**Метод проверки**: [Как проверять]
**Последствия нарушения**: [Должно быть исправлено]

[Больше стандартов...]

## Глава 3: Стиль творчества

### Принцип стиля 1: [Название]
**Определение**: [Что представляет собой этот стиль]
**Пример**: [Конкретный пример]
**Запрещено**: [Чего категорически нельзя делать]

[Больше принципов стиля...]

## Глава 4: Нормы содержания

### Нормы построения персонажей
[Конкретное содержание норм]

### Нормы построения сюжета
[Конкретное содержание норм]

### Нормы построения мироустройства
[Конкретное содержание норм]

## Глава 5: Договор с читателем

### Обещания читателям
- [Обещание 1]
- [Обещание 2]
- [Обещание 3]

### Гарантия недопустимого
- [Гарантия 1]
- [Гарантия 2]

## Глава 6: Процедура пересмотра

### Условия инициирования пересмотра
- Существенное изменение направления творчества
- Накопление отзывов читателей
- Личностный рост и изменение осознания

### Процесс пересмотра
1. Внесение предложения о пересмотре
2. Оценка влияния
3. Обновление версии
4. Регистрация изменений

## Приложение: История версий
- v1.0.0 (Дата): Исходная версия
- [Записи последующих версий]
```

### 4. Управление версиями

- **Основной номер версии**: Существенные изменения или удаление принципов
- **Дополнительный номер версии**: Добавление принципов или глав
- **Номер исправления**: Оптимизация формулировок, уточняющие пояснения

### 5. Распространение согласованности

Проверьте и обновите связанные документы для поддержания согласованности:
- Ссылайтесь на принципы конституции в последующих командах
- Предложите обновить раздел творческих концепций в README

### 6. Генерация отчета о влиянии

Выведите влияние создания/обновления конституции:
```markdown
## Отчет о влиянии Конституции
- Версия: [Старая версия] → [Новая версия]
- Новые принципы: [Список]
- Измененные принципы: [Список]
- Область влияния:
  ✅ Определение спецификаций должно соответствовать конституции
  ✅ Планирование должно соответствовать принципам
  ✅ Исполнение творчества должно соблюдать нормы
  ✅ Проверка должна осуществлять контроль соответствия
```

### 7. Вывод и сохранение

- Сохраните конституцию в `.specify/memory/constitution.md`
- Выведите сообщение об успешном создании/обновлении
- Предложите следующий шаг: `/specify` для определения спецификаций истории

## Принципы исполнения

### Обязательно соблюдать
- Принципы должны быть проверяемыми, а не слишком абстрактными
- Используйте четкие слова, такие как «должен», «запрещено»
- Каждый принцип должен иметь четкое обоснование

### Следует включать
- Минимум 3-5 основных ценностей
- Четкие базовые стандарты качества
- Оперативные творческие нормы

### Избегать
- Пустых лозунгов (например, «стремиться к совершенству»)
- Непроверяемых требований
- Чрезмерно ограничивающих творчество положений

## Пример принципа

**Отличный принцип**:
- «Действия главных героев должны иметь четкую цепочку мотиваций, недопустимы действия «потому что так нужно для сюжета»»
- «Каждая зацепка должна быть раскрыта или объяснена в разумные сроки (не более 10 глав)»
- «Никогда не использовать современные интернет-сленги, разрушающие погружение в древний сеттинг»

**Плохой принцип**:
- «Писать хорошо» (слишком расплывчато)
- «Стремиться к художественности» (непроверяемо)
- «Удовлетворить читателя» (неясный стандарт)

## Последующий процесс

После установления конституции все последующие творческие шаги должны ей следовать:
1. `/specify` - Спецификации должны соответствовать ценностям конституции
2. `/plan` - План должен соответствовать принципам конституции
3. `/write` - Творчество должно соблюдать нормы конституции
4. `/analyze` - Проверка должна осуществлять контроль соответствия конституции

Помните: **Конституция является высшим руководством, но ее также можно пересматривать по мере развития.**