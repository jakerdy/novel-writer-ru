description = "Создание структуры истории, включая тему, персонажей, мировоззрение и другие основные настройки"

prompt = """
Создайте полную структуру истории, используя шаблон метода интеллектуального применения.

Описание пользователя: {{args}}

## Шаги выполнения

### 1. Чтение конфигурации и выбор шаблона
Сначала прочитайте .specify/config.json, чтобы получить поле "method":
- three-act → Трехактная структура
- hero-journey → Путешествие героя
- story-circle → Круг историй
- seven-point → Семиточечная структура
- pixar-formula → Формула Пиксара
- snowflake → Снежинка (десять шагов)

Если не установлено, предложите использовать команду /method.

### 2. Создание файла истории
Используйте run_shell_command для получения текущей даты: date '+%Y-%m-%d'
Используйте run_shell_command для создания каталога истории: .specify/scripts/bash/create-new-story.sh

Анализируйте вывод скрипта в формате JSON, чтобы получить STORY_NAME и STORY_FILE.

### 3. Применение шаблона метода
В зависимости от метода используйте соответствующий шаблон структуры истории (см. spec/presets/[method]/story.md):

**Трехактная структура**: Завязка - Конфронтация - Развязка
**Путешествие героя**: 12 этапов пути развития
**Круг историй**: 8-шаговый цикл внутренних изменений
**Семиточечная структура**: 7 ключевых точек
**Формула Пиксара**: 6-шаговая формула истории
**Снежинка**: Пошаговое построение

### 4. Генерация содержания структуры
Используйте инструмент write_file для записи следующего содержания в STORY_FILE:

# [Название истории]

## Обзор истории
- Описание в одном предложении
- Основной конфликт
- Тема

## Описание персонажей
### Главный герой
- Имя, возраст, предыстория
- Характерные черты
- Дуга развития

### Важные второстепенные персонажи
[Перечислить по степени важности]

## Описание мировоззрения
- Исторический контекст
- Географическая среда
- Социальные правила
- Особые настройки

## Структура сюжета
[Организовать структуру в соответствии с выбранным методом]

## План написания
- Предполагаемый объем
- Планирование глав
- График выполнения

### 5. Завершение отчета
Вывод:
✅ Структура истории успешно создана!
- История: [Название]
- Файл: [Путь]
- Метод: [Использованный метод написания]
- Следующий шаг: Используйте /outline для планирования подробных глав

## Примечания
- Обязательно используйте команду date для получения реальной даты
- Скрипт выполняется только один раз, обратите внимание на захват вывода
- Строго следуйте шаблону структуры выбранного метода
- Содержание должно быть конкретным, а не общим
"""