Пользовательский ввод может быть предоставлен напрямую или в качестве аргументов командной строки — вы **обязаны** рассмотреть его перед продолжением (если он не пуст).

Пользовательский ввод:
$ARGUMENTS

## Цель

Создать основные принципы и ценности для написания романов, оформив их в виде документа «Конституция». Эти принципы будут направлять все последующие творческие решения.

## Шаги выполнения

### 1. Проверка существующей конституции

Выполните `{SCRIPT} check`, чтобы проверить наличие файла конституции:
- Если `memory/novel-constitution.md` существует, загрузите его и подготовьте к обновлению.
- Если файл не существует, подготовьте создание новой конституции.

### 2. Сбор принципов творчества

На основе ввода пользователя соберите принципы по следующим аспектам (если они не предоставлены, запросите или выведите их):

#### Основные ценности
- Какие основные идеи должен донести текст?
- Каковы абсолютные недопустимые границы?
- Какова фундаментальная цель творчества?

#### Стандарты качества
- Требования к логической согласованности
- Стандарты качества текста
- Обязательства по частоте обновлений
- Гарантия завершенности

#### Принципы стиля творчества
- Стиль повествования (лаконичный/пышный/простой/поэтичный)
- Контроль темпа (быстрый/медленный/сбалансированный)
- Эмоциональная тональность (захватывающий/глубокий/легкий/серьезный)
- Языковые особенности (древний/современный/разговорный/книжный)

#### Принципы содержания
- Принципы формирования персонажей
  - У каждого персонажа должна быть полная мотивация
  - Рост персонажа должен быть логичным
  - Диалоги должны соответствовать личности персонажа
- Принципы построения сюжета
  - Принципы создания конфликтов
  - Обоснованность поворотов сюжета
  - Принцип отслеживания сюжетных завязок
- Принципы мироустройства
  - Требования к самосогласованности сеттинга
  - Стандарты достоверности деталей
  - Требования к культурным исследованиям

#### Принципы ориентации на читателя
- Определение целевой аудитории
- Гарантия читательского опыта
- Принципы интерактивной обратной связи

#### Дисциплина творчества
- Правила повседневного письма
- Процесс редактирования и улучшения
- Принципы управления версиями

### 3. Составление документа конституции

Используйте следующую структуру шаблона:

```markdown
# Конституция творчества романа

## Метаданные
- Версия: [Номер версии, например, 1.0.0]
- Дата создания: [YYYY-MM-DD]
- Последнее изменение: [YYYY-MM-DD]
- Автор: [Имя автора]
- Произведение: [Название произведения или «Общее»]

## Предисловие
[Объясните, почему эта конституция необходима, и ее обязательность]

## Глава 1: Основные ценности

### Принцип 1: [Название принципа]
**Утверждение**: [Четкая формулировка принципа]
**Обоснование**: [Почему этот принцип важен]
**Исполнение**: [Как он будет отражен в творчестве]

### Принцип 2: [Название принципа]
[Тот же формат]

## Глава 2: Стандарты качества

### Стандарт 1: Логическая согласованность
**Требование**: [Конкретное требование]
**Метод проверки**: [Как проверить]
**Последствия нарушения**: [Должно быть исправлено]

[Другие стандарты...]

## Глава 3: Стиль творчества

### Принцип стиля 1: [Название]
**Определение**: [Что представляет собой этот стиль]
**Пример**: [Конкретный пример]
**Запреты**: [Чего категорически нельзя делать]

[Другие принципы стиля...]

## Глава 4: Нормы содержания

### Нормы формирования персонажей
[Конкретное содержание норм]

### Нормы построения сюжета
[Конкретное содержание норм]

### Нормы построения мира
[Конкретное содержание норм]

## Глава 5: Договор с читателем

### Обещания читателям
- [Обещание 1]
- [Обещание 2]
- [Обещание 3]

### Гарантии
- [Гарантия 1]
- [Гарантия 2]

## Глава 6: Процедура пересмотра

### Условия инициирования пересмотра
- Существенное изменение направления творчества
- Накопление отзывов читателей
- Личностный рост и изменение взглядов

### Процесс пересмотра
1. Предложение поправок
2. Оценка влияния
3. Обновление версии
4. Регистрация изменений

## Приложение: История версий
- v1.0.0 (Дата): Исходная версия
- [Записи последующих версий]
```

### 4. Управление версиями

- **Основной номер версии**: Значительные изменения, удаление принципов
- **Дополнительный номер версии**: Добавление принципов или глав
- **Номер исправления**: Оптимизация формулировок, уточняющие пояснения

### 5. Распространение согласованности

Проверьте и обновите связанные файлы для поддержания согласованности:
- Обновите `.specify/memory/writing-constitution.md` (если существует)
- Ссылайтесь на принципы конституции в последующих командах
- Рекомендуется обновить раздел «Творческие концепции» в README

### 6. Создание отчета о влиянии

Выведите влияние создания/обновления конституции:
```markdown
## Отчет о влиянии Конституции
- Версия: [Старая версия] → [Новая версия]
- Новые принципы: [Список]
- Измененные принципы: [Список]
- Область влияния:
  ✅ Спецификации должны соответствовать конституции
  ✅ Планирование должно соответствовать принципам
  ✅ Творчество должно соблюдать нормы
  ✅ Проверка должна обеспечивать соответствие
```

### 7. Вывод и сохранение

- Сохраните конституцию в `memory/novel-constitution.md`
- Выведите сообщение об успешном создании/обновлении
- Предложите следующий шаг: `/specify` для определения спецификаций истории

## Принципы выполнения

### Обязательно соблюдать
- Принципы должны быть проверяемыми, не слишком абстрактными
- Используйте четкие формулировки, такие как «обязательно», «запрещено»
- Каждый принцип должен иметь четкое обоснование

### Следует включать
- Минимум 3-5 основных ценностей
- Четкие минимальные стандарты качества
- Практические нормы творчества

### Избегать
- Пустых лозунгов (например, «стремление к совершенству»)
- Непроверяемых требований
- Чрезмерно ограничивающих творчество положений

## Пример принципа

**Хороший принцип**:
- «Действия главных героев должны иметь четкую цепочку мотивации, недопустимы действия «потому что так нужно для сюжета»»
- «Каждая сюжетная завязка должна быть раскрыта или объяснена в разумные сроки (максимум 10 глав)»
- «Никогда не использовать современные интернет-сленги, разрушающие погружение в древний сеттинг»

**Плохой принцип**:
- «Писать хорошо» (слишком расплывчато)
- «Стремиться к художественности» (непроверяемо)
- «Удовлетворить читателя» (неясный стандарт)

## Последующий процесс

После установления конституции все последующие этапы творчества должны ей следовать:
1. `/specify` — спецификации должны соответствовать ценностям конституции
2. `/plan` — план должен соответствовать принципам конституции
3. `/write` — творчество должно соблюдать нормы конституции
4. `/analyze` — проверка должна обеспечивать соответствие конституции

Помните: **Конституция является высшим руководством, но ее можно и нужно пересматривать по мере развития.**